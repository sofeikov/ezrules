{% include "user_header.html" %}
{% extends "layout.html" %}
{% block head %}
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous">
    </script>
    <title>Labels List</title>
    <style>
        .container-fluid {
            padding-left: 15px;
            padding-right: 15px;
        }
        .list-group-item {
            text-align: left;
        }
    </style>
</head>
{% endblock %}
{% block body %}
{% from 'bootstrap5/form.html' import render_form %}
<body>
    <div class="container-fluid mt-3">
        <a href="/rules" class="btn btn-secondary mb-3">Back to rule list</a>
        <a href="{{ url_for('upload_labels') }}" class="btn btn-success mb-3">Bulk Upload Labels</a>
        <h1>Transaction Labels</h1>
        <p>This is a list of labels available for transaction categorization and analysis (e.g., fraud, chargeback, normal):</p>
        <div class="card mb-3">
            <div class="card-body">
                {{ render_form(form) }}
            </div>
        </div>
        <ul class="list-group">
            {% for label in labels %}
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    {{ label }}
                    <form method="post" style="display: inline;" onsubmit="return confirm('Are you sure you want to delete {{ label }}?');">
                        <input type="hidden" name="action" value="delete">
                        <input type="hidden" name="label" value="{{ label }}">
                        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                        <button type="submit" class="btn btn-sm btn-outline-danger">Delete</button>
                    </form>
                </li>
            {% endfor %}
        </ul>
    </div>
</body>
{% endblock %}